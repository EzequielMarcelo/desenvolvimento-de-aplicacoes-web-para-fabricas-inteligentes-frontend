<!DOCTYPE html>
<html lang="pt-br">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย ย <title>Dashboard Flask</title>
ย ย <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
ย ย <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
ย ย <div class="container">
ย ย ย ย <div class="sidebar">
ย ย ย ย ย ย <div class="sidebar-header">
ย ย ย ย ย ย ย ย <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/1200px-Python-logo-notext.svg.png" alt="Python Logo" class="logo">
ย ย ย ย ย ย ย ย <h2>Matemรกtica</h2>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <hr>
ย ย ย ย ย ย <a href="{{ url_for('dashboard') }}" class="sidebar-item active">๐ Home</a>
ย ย ย ย ย ย <hr>
ย ย ย ย ย ย <div class="sidebar-expander">
ย ย ย ย ย ย ย ย <input type="checkbox" id="disciplinas-toggle" class="expander-checkbox">
ย ย ย ย ย ย ย ย <label for="disciplinas-toggle" class="expander-label">๐ Disciplinas โผ</label>
ย ย ย ย ย ย ย ย <div class="expander-content">
ย ย ย ย ย ย ย ย ย ย <p>- ๐ Matemรกtica</p>
ย ย ย ย ย ย ย ย ย ย <p>- ๐ Portuguรชs</p>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <hr>
ย ย ย ย ย ย <a href="{{ url_for('settings') }}" class="sidebar-item">โ๏ธ Configuraรงรตes</a>
ย ย ย ย </div>

ย ย ย ย <div class="main-content">
ย ย ย ย ย ย <h1>Anรกlise de Dados</h1>

ย ย ย ย ย ย <h3>Visรฃo Geral</h3>
ย ย ย ย ย ย <div class="metrics-grid">
ย ย ย ย ย ย ย ย <div class="metric-card">
ย ย ย ย ย ย ย ย ย ย <span class="metric-label">Total de Conteรบdos</span>
ย ย ย ย ย ย ย ย ย ย <span class="metric-value">{{ total_conteudos }}</span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="metric-card">
ย ย ย ย ย ย ย ย ย ย <span class="metric-label">Conteรบdos Concluรญdos</span>
ย ย ย ย ย ย ย ย ย ย <span class="metric-value">{{ conteudos_concluidos }}</span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="metric-card">
ย ย ย ย ย ย ย ย ย ย <span class="metric-label">Mรฉdia de Progresso</span>
ย ย ย ย ย ย ย ย ย ย <span class="metric-value">{{ media_progresso }}</span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="metric-card">
ย ย ย ย ย ย ย ย ย ย <span class="metric-label">Pontuaรงรฃo Mรฉdia</span>
ย ย ย ย ย ย ย ย ย ย <span class="metric-value">{{ pontuacao_media }}</span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <hr>

ย ย ย ย ย ย <h3>Grรกficos de Anรกlise</h3>
ย ย ย ย ย ย <div class="charts-grid">
ย ย ย ย ย ย ย ย <div class="chart-card">
ย ย ย ย ย ย ย ย ย ย <h4>Desempenho Mensal (Linha)</h4>
ย ย ย ย ย ย ย ย ย ย <div id="lineChart"></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="chart-card">
ย ย ย ย ย ย ย ย ย ย <h4>Conteรบdos por Categoria (Barras)</h4>
ย ย ย ย ย ย ย ย ย ย <div id="barChart"></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <div class="chart-card">
ย ย ย ย ย ย ย ย ย ย <h4>Progresso Geral (Circular com %)</h4>
ย ย ย ย ย ย ย ย ย ย <div id="circularChart"></div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <hr>

ย ย ย ย ย ย <h3>Meus Conteรบdos</h3>
ย ย ย ย ย ย <div class="tabs">
ย ย ย ย ย ย ย ย <button class="tab-button active" onclick="openTab(event, 'todos')">Todos</button>
ย ย ย ย ย ย ย ย <button class="tab-button" onclick="openTab(event, 'concluidos')">Concluรญdos</button>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div id="todos" class="tab-content active">
ย ย ย ย ย ย ย ย {% for content in conteudos_data %}
ย ย ย ย ย ย ย ย <div class="content-item">
ย ย ย ย ย ย ย ย ย ย <div class="content-item-details">
ย ย ย ย ย ย ย ย ย ย ย ย <h4>{{ content.nome }}</h4>
ย ย ย ย ย ย ย ย ย ย ย ย <div class="progress-bar-container">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <div class="progress-bar" style="width: {{ content.progresso }}%;"></div>
ย ย ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="content-item-actions">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="action-button edit">Edit</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button class="action-button delete">Delete</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button class="action-button info">Info</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย {% endfor %}
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div id="concluidos" class="tab-content">
ย ย ย ย ย ย ย ย {% for content in conteudos_data %}
ย ย ย ย ย ย ย ย {% if content.concluido %}
ย ย ย ย ย ย ย ย <div class="content-item">
ย ย ย ย ย ย ย ย ย ย <div class="content-item-details">
ย ย ย ย ย ย ย ย ย ย ย ย <h4>{{ content.nome }}</h4>
ย ย ย ย ย ย ย ย ย ย ย ย <div class="progress-bar-container">
ย ย ย ย ย ย ย ย ย ย ย ย ย ย <div class="progress-bar" style="width: {{ content.progresso }}%;"></div>
ย ย ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย ย ย <div class="content-item-actions">
ย ย ย ย ย ย ย ย ย ย ย ย <button class="action-button edit">Edit</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button class="action-button delete">Delete</button>
ย ย ย ย ย ย ย ย ย ย ย ย <button class="action-button info">Info</button>
ย ย ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย {% endif %}
ย ย ย ย ย ย ย ย {% endfor %}
ย ย ย ย ย ย ย ย {% if not conteudos_data | selectattr('concluido') | list %}
ย ย ย ย ย ย ย ย <p class="info-message">Nenhum conteรบdo concluรญdo ainda.</p>
ย ย ย ย ย ย ย ย {% endif %}
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <button class="add-button">+ Adicionar Conteรบdo</button>
ย ย ย ย </div>
ย ย </div>

ย ย <script>
ย ย ย ย // Renderiza os grรกficos Plotly
ย ย ย ย Plotly.newPlot('lineChart', JSON.parse({{ line_chart_json | tojson }}).data, JSON.parse({{ line_chart_json | tojson }}).layout);
ย ย ย ย Plotly.newPlot('barChart', JSON.parse({{ bar_chart_json | tojson }}).data, JSON.parse({{ bar_chart_json | tojson }}).layout);
ย ย ย ย Plotly.newPlot('circularChart', JSON.parse({{ circular_chart_json | tojson }}).data, JSON.parse({{ circular_chart_json | tojson }}).layout);

ย ย ย ย // Lรณgica das abas
ย ย ย ย function openTab(evt, tabName) {
ย ย ย ย ย ย var i, tabcontent, tablinks;
ย ย ย ย ย ย tabcontent = document.getElementsByClassName("tab-content");
ย ย ย ย ย ย for (i = 0; i < tabcontent.length; i++) {
ย ย ย ย ย ย ย ย tabcontent[i].style.display = "none";
ย ย ย ย ย ย }
ย ย ย ย ย ย tablinks = document.getElementsByClassName("tab-button");
ย ย ย ย ย ย for (i = 0; i < tablinks.length; i++) {
ย ย ย ย ย ย ย ย tablinks[i].className = tablinks[i].className.replace(" active", "");
ย ย ย ย ย ย }
ย ย ย ย ย ย document.getElementById(tabName).style.display = "block";
ย ย ย ย ย ย evt.currentTarget.className += " active";
ย ย ย ย }
ย ย ย ย // Abre a aba 'todos' por padrรฃo ao carregar a pรกgina
ย ย ย ย document.addEventListener("DOMContentLoaded", function() {
ย ย ย ย ย ย document.querySelector(".tab-button.active").click();
ย ย ย ย });
ย ย </script>
</body>
</html>